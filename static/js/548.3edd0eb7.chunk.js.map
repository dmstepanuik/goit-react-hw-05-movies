{"version":3,"file":"static/js/548.3edd0eb7.chunk.js","mappings":"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","sources":["components/pages/Cast/Cast.jsx","hooks/useFirstRender.js","hooks/useTrendingApi.js"],"sourcesContent":["import { useGetMovieCast } from 'hooks/useTrendingApi';\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { IMAGE_PATH } from 'variables/variables';\nimport defaultImg from 'img/default_photo.png';\n\nexport default function Cast() {\n  const { id } = useParams();\n  const { loading, cast, done } = useGetMovieCast(id);\n  if (!loading && !done) return null;\n  if (loading) return <h3>Loading...</h3>;\n  return (\n    <>\n      <h4>Cast</h4>\n      <ul>\n        {cast.map(it => {\n          const imgUrl = it.profile_path\n            ? `${IMAGE_PATH}${it.profile_path}`\n            : defaultImg;\n\n          return (\n            <li key={it.id}>\n              <h2>Character:{it.character}</h2>\n              <p>Name:{it.name}</p>\n              <img src={imgUrl} alt=\"\" width={50} />\n            </li>\n          );\n        })}\n      </ul>\n    </>\n  );\n}\n","import { useRef } from 'react';\n\nexport function useIsFirstRender() {\n  const isFirst = useRef(true);\n\n  if (isFirst.current) {\n    isFirst.current = false;\n\n    return true;\n  }\n\n  return isFirst.current;\n}\n","import axios from 'axios';\nimport { useState, useEffect } from 'react';\n\nimport { useIsFirstRender } from './useFirstRender';\n\nconst API_KEY = 'f860fd14767163b7a314379672b23f90';\n\nconst themoviedb = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: API_KEY,\n    language: 'en-US',\n  },\n});\n\nexport function useTrendingApi() {\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    setLoading(true);\n    themoviedb.get('/trending/movie/day').then(res => {\n      setData(res.data.results);\n      setLoading(false);\n    });\n  }, []);\n\n  return [data, loading];\n}\n\nexport function useSearchMovies(initSearch = '') {\n  const [loading, setLoading] = useState(false);\n  const [movies, setMovies] = useState([]);\n  const [search, setSearch] = useState(initSearch);\n  const isFirst = useIsFirstRender();\n\n  useEffect(() => {\n    if (isFirst.current || search === '') return;\n\n    const options = {\n      params: {\n        query: search,\n      },\n    };\n\n    setLoading(true);\n    themoviedb.get('/search/movie', options).then(res => {\n\n      setMovies(res.data.results);\n      setLoading(false);\n    });\n  }, [isFirst, search]);\n  // console.log(movies);\n\n  return { movies, setSearch, loading };\n}\n\nexport function useGetMovieDetails(movieId) {\n  const [loading, setLoading] = useState(false);\n  const [movie, setMovie] = useState({});\n  const [done, setDone] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    themoviedb.get(`/movie/${movieId}`).then(res => {\n      // console.log(res);\n      setMovie(res.data);\n      setDone(true);\n      setLoading(false);\n    });\n  }, [movieId]);\n\n  return { loading, movie, done };\n}\n\nexport function useGetMovieCast(movieId) {\n  const [loading, setLoading] = useState(false);\n  const [cast, setCast] = useState({});\n  const [done, setDone] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    themoviedb.get(`/movie/${movieId}/credits`).then(res => {\n      setCast(res.data.cast);\n      setDone(true);\n      setLoading(false);\n    });\n  }, [movieId]);\n\n  return { loading, cast, done };\n}\n\nexport function useGetMovieReviews(movieId) {\n  const [loading, setLoading] = useState(false);\n  const [reviews, setReviews] = useState({});\n\n  const [done, setDone] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    themoviedb.get(`/movie/${movieId}/reviews`).then(res => {\n      setReviews(res.data.results);\n      // console.log(res.data.results);\n      setDone(true);\n      setLoading(false);\n    });\n  }, [movieId]);\n\n  return { loading, reviews, done };\n}\n"],"names":["Cast","id","useParams","useGetMovieCast","loading","cast","done","map","it","imgUrl","profile_path","IMAGE_PATH","defaultImg","character","name","src","alt","width","useIsFirstRender","isFirst","useRef","current","themoviedb","axios","baseURL","params","api_key","language","useTrendingApi","useState","setLoading","data","setData","useEffect","get","then","res","results","useSearchMovies","initSearch","movies","setMovies","search","setSearch","options","query","useGetMovieDetails","movieId","movie","setMovie","setDone","setCast","useGetMovieReviews","reviews","setReviews"],"sourceRoot":""}