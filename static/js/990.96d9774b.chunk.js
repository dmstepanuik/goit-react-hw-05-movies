"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[990],{126:function(e,t,n){n.d(t,{Z:function(){return s}});n(791);var r=n(87),u=n(689),a=n(184);function i(e){var t=e.id,n=e.title,i=(0,u.TH)();return(0,a.jsx)("li",{children:(0,a.jsx)(r.rU,{to:"/movies/".concat(t),state:{from:i},children:n})})}function s(e){var t=e.movies;return(0,a.jsx)("ul",{children:t.map((function(e){return(0,a.jsx)(i,{title:e.title,id:e.id},e.id)}))})}},618:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(126),u=n(791),a=n(184);function i(e){var t=e.setSearch;return(0,a.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.target,r=n.elements.search.value.trim().toLowerCase();""!==r&&(t(r),n.reset())},children:[(0,a.jsx)("label",{children:(0,a.jsx)("input",{name:"search",type:"text"})}),(0,a.jsx)("button",{type:"sumbit",children:"Search"})]})}var s=n(139),c=n(921),o=n(689);function f(){var e=(0,u.useContext)(s.k).moviesRef,t=(0,o.TH)(),n=(0,c.Sk)(""),f=n.movies,v=n.setSearch,l=(0,u.useMemo)((function(){return"MovieDetails"!==t.state?(e.current=f,f):(t.state=null,e.current)}),[t,e,f]);return l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{children:"Movies"}),(0,a.jsx)(i,{setSearch:v}),(0,a.jsx)(r.Z,{movies:l})]})}},921:function(e,t,n){n.d(t,{Sb:function(){return v},TA:function(){return f},vQ:function(){return l},Sk:function(){return o},nB:function(){return c}});var r=n(885),u=n(44),a=n(791);function i(){var e=(0,a.useRef)(!0);return e.current?(e.current=!1,!0):e.current}var s=u.ZP.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"f860fd14767163b7a314379672b23f90",language:"en-US"}});function c(){var e=(0,a.useState)(!1),t=(0,r.Z)(e,2),n=t[0],u=t[1],i=(0,a.useState)([]),c=(0,r.Z)(i,2),o=c[0],f=c[1];return(0,a.useEffect)((function(){u(!0),s.get("/trending/movie/day").then((function(e){f(e.data.results),u(!1)}))}),[]),[o,n]}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,a.useState)(!1),n=(0,r.Z)(t,2),u=n[0],c=n[1],o=(0,a.useState)([]),f=(0,r.Z)(o,2),v=f[0],l=f[1],d=(0,a.useState)(e),h=(0,r.Z)(d,2),m=h[0],S=h[1],Z=i();return(0,a.useEffect)((function(){if(!Z.current&&""!==m){var e={params:{query:m}};c(!0),s.get("/search/movie",e).then((function(e){l(e.data.results),c(!1)}))}}),[Z,m]),{movies:v,setSearch:S,loading:u}}function f(e){var t=(0,a.useState)(!1),n=(0,r.Z)(t,2),u=n[0],i=n[1],c=(0,a.useState)({}),o=(0,r.Z)(c,2),f=o[0],v=o[1],l=(0,a.useState)(!1),d=(0,r.Z)(l,2),h=d[0],m=d[1];return(0,a.useEffect)((function(){i(!0),s.get("/movie/".concat(e)).then((function(e){v(e.data),m(!0),i(!1)}))}),[e]),{loading:u,movie:f,done:h}}function v(e){var t=(0,a.useState)(!1),n=(0,r.Z)(t,2),u=n[0],i=n[1],c=(0,a.useState)({}),o=(0,r.Z)(c,2),f=o[0],v=o[1],l=(0,a.useState)(!1),d=(0,r.Z)(l,2),h=d[0],m=d[1];return(0,a.useEffect)((function(){i(!0),s.get("/movie/".concat(e,"/credits")).then((function(e){v(e.data.cast),m(!0),i(!1)}))}),[e]),{loading:u,cast:f,done:h}}function l(e){var t=(0,a.useState)(!1),n=(0,r.Z)(t,2),u=n[0],i=n[1],c=(0,a.useState)({}),o=(0,r.Z)(c,2),f=o[0],v=o[1],l=(0,a.useState)(!1),d=(0,r.Z)(l,2),h=d[0],m=d[1];return(0,a.useEffect)((function(){i(!0),s.get("/movie/".concat(e,"/reviews")).then((function(e){v(e.data.results),m(!0),i(!1)}))}),[e]),{loading:u,reviews:f,done:h}}}}]);
//# sourceMappingURL=990.96d9774b.chunk.js.map